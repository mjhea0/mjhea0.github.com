<!DOCTYPE html>
<html lang="en">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>Developing Microservices - Node, React, and Docker</title>
  <meta name="description" content="This tutorial details how to quickly spin up a reproducible development environment with Docker to manage a number of Node.js microservices.">
  
    
    <meta name="keywords" content="docker, microservice, microservices, node, react, reactjs, javascript">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://mherman.org/blog/developing-microservices-node-react-docker/">
  
  
  <link rel="alternate" type="application/rss+xml" title="Michael Herman" href="https://mherman.org/feed.xml">

  <link rel="icon" type="image/png" href="/favicon.png">


  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:title" content="Developing Microservices - Node, React, and Docker">
  <meta name="twitter:description" content="This tutorial details how to quickly spin up a reproducible development environment with Docker to manage a number of Node.js microservices.">
  
  

  <script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Bitter:400,700,400italic:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  
    
  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-37074204-1', 'auto');
    ga('send', 'pageview');
  </script>


  
</head>


  <link rel="stylesheet" href="/assets/hello.css">
  <link rel="stylesheet" href="/assets/carbon.css">

  <body>

    <header class="site-header">

  <div class="color-bar">
    <div class="bar bar1"></div>
    <div class="bar bar2"></div>
    <div class="bar bar3"></div>
    <div class="bar bar4"></div>
    <div class="bar bar5"></div>
    <div class="bar bar6"></div>
  </div>

  <div class="wrapper">

    <a class="site-title" href="/">Michael Herman</a>

    <nav class="site-nav">
      
        
        <a class="page-link" href="/">Blog</a>
      
        
        <a class="page-link" href="/about">About</a>
      
        
        <a class="page-link" href="/talks">Talks</a>
      
        
        <a class="page-link" href="/feed.xml">RSS</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7DT27Y&placement=mhermanorg" id="_carbonads_js"></script>
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline">Developing Microservices - Node, React, and Docker</h1>
    
    <p class="post-meta">
      Last update: <time datetime="2017-05-11T00:00:00-06:00" itemprop="datePublished">May 11, 2017</time>
       • 
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <a href="/categories/docker/">docker</a>,
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <a href="/categories/microservices/">microservices</a>,
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <a href="/categories/node/">node</a>,
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <a href="/categories/react/">react</a>
    
  
    
  
    
  
    
  
    
  
    
  

</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>In this post you will learn how to quickly spin up a reproducible development environment with Docker to manage a number of Node.js microservices.</p>

<div style="text-align:center;">
  <img src="/assets/img/blog/docker-microservices.png" style="max-width: 100%; border:0; box-shadow: none;" alt="microservice architecture" />
</div>

<p><br /></p>

<p>This post assumes prior knowledge of the following topics. Refer to the resources for more info:</p>

<table>
  <thead>
    <tr>
      <th>Topic</th>
      <th>Resource</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Docker</td>
      <td><a href="https://docs.docker.com/engine/getstarted/">Get started with Docker</a></td>
    </tr>
    <tr>
      <td>Docker Compose</td>
      <td><a href="https://docs.docker.com/compose/gettingstarted/">Get started with Docker Compose</a></td>
    </tr>
    <tr>
      <td>Node/Express API</td>
      <td><a href="http://mherman.org/blog/2016/09/12/testing-node-and-express">Testing Node and Express</a></td>
    </tr>
    <tr>
      <td>React</td>
      <td><a href="https://github.com/mjhea0/node-workshop/blob/master/w2/lessons/03-react.md">React Intro</a></td>
    </tr>
    <tr>
      <td>TestCafe</td>
      <td><a href="http://mherman.org/blog/2017/03/19/functional-testing-with-testcafe">Functional Testing With TestCafe</a></td>
    </tr>
    <tr>
      <td>Swagger</td>
      <td><a href="http://mherman.org/blog/2016/05/26/swagger-and-nodejs/">Swagger and NodeJS</a></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>NOTE</strong>: Looking for a slightly easier implementation? Check out my previous post - <a href="http://mherman.org/blog/2017/04/18/developing-and-testing-microservices-with-docker">Developing and Testing Microservices With Docker</a>.</p>
</blockquote>

<h2 class="no_toc" id="contents">Contents</h2>

<ul id="markdown-toc">
  <li><a href="#objectives" id="markdown-toc-objectives">Objectives</a></li>
  <li><a href="#architecture" id="markdown-toc-architecture">Architecture</a></li>
  <li><a href="#project-setup" id="markdown-toc-project-setup">Project Setup</a></li>
  <li><a href="#users-service" id="markdown-toc-users-service">Users Service</a></li>
  <li><a href="#web-service---part-1" id="markdown-toc-web-service---part-1">Web Service - part 1</a></li>
  <li><a href="#movies-service" id="markdown-toc-movies-service">Movies Service</a></li>
  <li><a href="#web-service---part-2" id="markdown-toc-web-service---part-2">Web Service - part 2</a></li>
  <li><a href="#workflow" id="markdown-toc-workflow">Workflow</a></li>
  <li><a href="#test-setup" id="markdown-toc-test-setup">Test Setup</a></li>
  <li><a href="#swagger-setup" id="markdown-toc-swagger-setup">Swagger Setup</a></li>
  <li><a href="#next-steps" id="markdown-toc-next-steps">Next Steps</a></li>
</ul>

<h2 id="objectives">Objectives</h2>

<p>By the end of this tutorial, you should be able to…</p>

<ol>
  <li>Configure and run microservices locally with Docker and Docker Compose</li>
  <li>Utilize <a href="https://docs.docker.com/engine/tutorials/dockervolumes/">volumes</a> to mount your code into a container</li>
  <li>Run unit and integration tests inside a Docker container</li>
  <li>Test the entire set of services with functional, end-to-end tests</li>
  <li>Debug a running Docker container</li>
  <li>Enable services running in different containers to talk to one other</li>
  <li>Secure your services via JWT-based authentication</li>
  <li>Work with React running inside a Docker Container</li>
  <li>Configure Swagger to interact with a service</li>
</ol>

<h2 id="architecture">Architecture</h2>

<p>The end goal of this post is to organize the technologies from the above image into the following containers and services:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Service</th>
      <th>Container</th>
      <th>Tech</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Web</td>
      <td>Web</td>
      <td>web</td>
      <td>React, React-Router</td>
    </tr>
    <tr>
      <td>Movies API</td>
      <td>Movies</td>
      <td>movies</td>
      <td>Node, Express</td>
    </tr>
    <tr>
      <td>Movies DB</td>
      <td>Movies</td>
      <td>movies-db</td>
      <td>Postgres</td>
    </tr>
    <tr>
      <td>Swagger</td>
      <td>Movies</td>
      <td>swagger</td>
      <td>Swagger UI</td>
    </tr>
    <tr>
      <td>Users API</td>
      <td>Users</td>
      <td>users</td>
      <td>Node, Express</td>
    </tr>
    <tr>
      <td>Users DB</td>
      <td>Users</td>
      <td>users-db</td>
      <td>Postgres</td>
    </tr>
    <tr>
      <td>Functional Tests</td>
      <td>Test</td>
      <td>n/a</td>
      <td>TestCafe</td>
    </tr>
  </tbody>
</table>

<p>Let’s get started!</p>

<h2 id="project-setup">Project Setup</h2>

<p>Start by cloning the base project and then checking out the first tag:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git clone https://github.com/mjhea0/microservice-movies
<span class="nv">$ </span><span class="nb">cd </span>microservice-movies
<span class="nv">$ </span>git checkout tags/v1
</code></pre></div></div>

<p>Overall project structure:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span>
├── services
│   ├── movies
│   │   ├── src
│   │   │   └── db
│   │   └── swagger
│   ├── users
│   │   └── src
│   │       └── db
│   └── web
└── tests
</code></pre></div></div>

<p>Before we add Docker, be sure to review the code so that you have a basic understanding of how everything works. Feel free to test these services as well…</p>

<p><em>Users:</em></p>

<ul>
  <li>Navigate to “services/users”</li>
  <li><code class="highlighter-rouge">npm install</code></li>
  <li>update the <code class="highlighter-rouge">start</code> script within <em>package.json</em> to <code class="highlighter-rouge">"gulp --gulpfile gulpfile.js"</code></li>
  <li><code class="highlighter-rouge">npm start</code></li>
  <li>Open <a href="http://localhost:3000/users/ping">http://localhost:3000/users/ping</a> in your browser</li>
</ul>

<p><em>Movies:</em></p>

<ul>
  <li>Navigate to “services/movies”</li>
  <li><code class="highlighter-rouge">npm install</code></li>
  <li>update the <code class="highlighter-rouge">start</code> script within <em>package.json</em> to <code class="highlighter-rouge">"gulp --gulpfile gulpfile.js"</code></li>
  <li><code class="highlighter-rouge">npm start</code></li>
  <li>Open <a href="http://localhost:3000/movies/ping">http://localhost:3000/movies/ping</a> in your browser</li>
</ul>

<p><em>Web:</em></p>

<ul>
  <li>Navigate to “services/web”</li>
  <li><code class="highlighter-rouge">npm install</code></li>
  <li><code class="highlighter-rouge">npm start</code></li>
  <li>Open <a href="http://localhost:3006">http://localhost:3006</a> in your browser. You should see the log in page.</li>
</ul>

<p>Next, add a <em>docker-compose.yml</em> file to the project root. This file is used by Docker Compose to link multiple services together. With one command it will spin up all the containers we need and enable them to communicate with one another (as needed).</p>

<p>With that, let’s get each service going, making sure to test as we go…</p>

<h2 id="users-service">Users Service</h2>

<p>We’ll start with the database since the API is dependent on it being up…</p>

<h3 id="database">Database</h3>

<p>First, add a <em>Dockerfile</em> to “services/users/src/db”:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM postgres

# run create.sql on init
ADD create.sql /docker-entrypoint-initdb.d
</code></pre></div></div>

<p>Here, we extend the official Postgres image by adding a SQL file to the “docker-entrypoint-initdb.d” directory in the container, which will execute on init.</p>

<p>Then update the <em>docker-compose.yml</em> file:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>version: '2.1'

services:

  users-db:
    container_name: users-db
    build: ./services/users/src/db
    ports:
      - '5433:5432' # expose ports - HOST:CONTAINER
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=postgres
    healthcheck:
      test: exit 0
</code></pre></div></div>

<p>This config will create a container called <code class="highlighter-rouge">users-db</code>, from the <em>Dockerfile</em> found in “services/users/src/db”. (Directories are relative to the <em>docker-compose.yml</em> file.)</p>

<p>Once spun up, environment variables will be added and an exit code of <code class="highlighter-rouge">0</code> will be sent after it’s successfully up and running. Postgres will be available on port <code class="highlighter-rouge">5433</code> on the host machine and on port <code class="highlighter-rouge">5432</code> for other services.</p>

<blockquote>
  <p><strong>NOTE:</strong> Use <code class="highlighter-rouge">expose</code>, rather than <code class="highlighter-rouge">ports</code>, if you just want Postgres available to other services but not the host machine:</p>

  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>expose:
  - "5432"
</code></pre></div>  </div>
</blockquote>

<p>Take note of the version used - <code class="highlighter-rouge">2.1</code>. This does not relate directly to the version of Docker Compose installed; instead, it specifies the file format that you want to use.</p>

<p>Fire up the container:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose up <span class="nt">--build</span> <span class="nt">-d</span> users-db
</code></pre></div></div>

<p>Once up, let’s run a quick sanity check. Enter the shell:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose run users-db bash
</code></pre></div></div>

<p>Then run <code class="highlighter-rouge">env</code> to ensure that the proper environment variables are set. You can also check out the “docker-entrypoint-initdb.d” directory:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># cd docker-entrypoint-initdb.d/</span>
<span class="c"># ls</span>
create.sql
</code></pre></div></div>

<p><code class="highlighter-rouge">exit</code> when done.</p>

<h3 id="api">API</h3>

<p>Turning to the API, add a <em>Dockerfile</em> to “services/users”, making sure to review the comments:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM node:latest

# set working directory
RUN mkdir /usr/src/app
WORKDIR /usr/src

# add `/usr/src/node_modules/.bin` to $PATH
ENV PATH /usr/src/node_modules/.bin:$PATH

# install and cache app dependencies
ADD package.json /usr/src/package.json
RUN npm install

# start app
CMD ["npm", "start"]
</code></pre></div></div>

<blockquote>
  <p><strong>NOTE</strong>: Be sure to take advantage of Docker’s layered <a href="https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/#build-cache">cache</a> system, to speed up build times, by adding the <em>package.json</em> and installing the dependencies <strong>before</strong> adding the app’s source files. For more on this, check out <a href="http://bitjudo.com/blog/2014/03/13/building-efficient-dockerfiles-node-dot-js/">Building Efficient Dockerfiles - Node.js</a>.</p>
</blockquote>

<p>Then add the <code class="highlighter-rouge">users-service</code> to the <em>docker-compose.yml</em> file:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>users-service:
  container_name: users-service
  build: ./services/users/
  volumes:
    - './services/users:/usr/src/app'
    - './services/users/package.json:/usr/src/package.json'
  ports:
    - '3000:3000' # expose ports - HOST:CONTAINER
  environment:
    - DATABASE_URL=postgres://postgres:postgres@users-db:5432/users_dev
    - DATABASE_TEST_URL=postgres://postgres:postgres@users-db:5432/users_test
    - NODE_ENV=${NODE_ENV}
    - TOKEN_SECRET=changeme
  depends_on:
    users-db:
      condition: service_healthy
  links:
    - users-db
</code></pre></div></div>

<p>What’s happening here?</p>

<ul>
  <li><code class="highlighter-rouge">volumes</code>: <a href="https://docs.docker.com/engine/tutorials/dockervolumes/">volumes</a> are used to mount a directory inside a container so that you can make modifications to the code without having to rebuild the image. This should be a default in your local development environment so you quickly get feedback on code changes.</li>
  <li><code class="highlighter-rouge">depends_on</code>: <a href="https://docs.docker.com/compose/compose-file/#dependson">depends_on</a> specifies the order in which to start services. In this case, the <code class="highlighter-rouge">users-service</code> will wait for the <code class="highlighter-rouge">users-db</code> to fire up successfully (with an exit code of <code class="highlighter-rouge">0</code>) before it starts.</li>
  <li><code class="highlighter-rouge">links</code>: With <a href="https://docs.docker.com/compose/compose-file/#links">links</a> you can link to services running in other containers. So, with this config, code inside the <code class="highlighter-rouge">users-service</code> will be able to access the database via <code class="highlighter-rouge">users-db:5432</code>.</li>
</ul>

<blockquote>
  <p><strong>NOTE:</strong> Curious about the difference between <code class="highlighter-rouge">depends_on</code> and <code class="highlighter-rouge">links</code>? Check out the following <a href="http://stackoverflow.com/a/39658359/1799408">Stack Overflow discussion</a> for more info.</p>
</blockquote>

<p>Set the <code class="highlighter-rouge">NODE_ENV</code> environment variable:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">NODE_ENV</span><span class="o">=</span>development
</code></pre></div></div>

<p>Build the image and spin up the container:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose up <span class="nt">--build</span> <span class="nt">-d</span> users-service
</code></pre></div></div>

<blockquote>
  <p><strong>NOTE:</strong> Keep in mind that Docker Compose handles both the build and run times. This can be confusing. For example, take a look at the current docker-compose.yml file - What is happening at the build time? How about the run time? How do you know?</p>
</blockquote>

<p>Once up, create a new file in the project root called <em>init_db.sh</em> and add the Knex migrate and seed commands:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>

docker-compose run users-service knex migrate:latest <span class="nt">--env</span> development <span class="nt">--knexfile</span> app/knexfile.js
docker-compose run users-service knex seed:run <span class="nt">--env</span> development <span class="nt">--knexfile</span> app/knexfile.js
</code></pre></div></div>

<p>Then apply the migrations and add the seed:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>sh init_db.sh
Using environment: development
Batch 1 run: 1 migrations
/src/src/db/migrations/20170504191016_users.js
Using environment: development
Ran 1 seed files
/src/src/db/seeds/users.js
</code></pre></div></div>

<p>Test:</p>

<table>
  <thead>
    <tr>
      <th>Endpoint</th>
      <th>HTTP Method</th>
      <th>CRUD Method</th>
      <th>Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/users/ping</td>
      <td>GET</td>
      <td>READ</td>
      <td><code class="highlighter-rouge">pong</code></td>
    </tr>
    <tr>
      <td>/users/register</td>
      <td>POST</td>
      <td>CREATE</td>
      <td>add a user</td>
    </tr>
    <tr>
      <td>/users/login</td>
      <td>POST</td>
      <td>CREATE</td>
      <td>log in a user</td>
    </tr>
    <tr>
      <td>/users/user</td>
      <td>GET</td>
      <td>READ</td>
      <td>get user info</td>
    </tr>
  </tbody>
</table>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>http POST http://localhost:3000/users/register <span class="nv">username</span><span class="o">=</span>foo <span class="nv">password</span><span class="o">=</span>bar
<span class="nv">$ </span>http POST http://localhost:3000/users/login <span class="nv">username</span><span class="o">=</span>foo <span class="nv">password</span><span class="o">=</span>bar
</code></pre></div></div>

<blockquote>
  <p><strong>NOTE:</strong> <code class="highlighter-rouge">http</code> in the above commands is part of the <a href="https://httpie.org/">HTTPie</a> library, which is a wrapper on top of cURL.</p>
</blockquote>

<p>In both cases you should see a <code class="highlighter-rouge">status</code> of <code class="highlighter-rouge">success</code> along with a <code class="highlighter-rouge">token</code>, i.e. -</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
    <span class="s2">"status"</span>: <span class="s2">"success"</span>,
    <span class="s2">"token"</span>: <span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9"</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Finally, run the unit and integration tests:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose run users-service npm <span class="nb">test</span>
</code></pre></div></div>

<p>You should see:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>routes : index
  GET /does/not/exist
    ✓ should throw an error

routes : users
  POST /users/register
    ✓ should register a new user (178ms)
  POST /users/login
    ✓ should login a user (116ms)
    ✓ should not login an unregistered user
    ✓ should not login a valid user with incorrect password (125ms)
  GET /users/user
    ✓ should return a success (114ms)
    ✓ should throw an error if a user is not logged in

auth : helpers
  comparePass()
    ✓ should return true if the password is correct (354ms)
    ✓ should return false if the password is correct (315ms)
    ✓ should return false if the password empty (305ms)

auth : local
  encodeToken()
    ✓ should return a token
  decodeToken()
    ✓ should return a payload


12 passing (4s)
</code></pre></div></div>

<p>Check the test specs for more info. That’s it! Let’s move on to the web service…</p>

<h2 id="web-service---part-1">Web Service - part 1</h2>

<p>With our users service up and running, we can turn our attention to the client-side and spin up the React app inside a container to test authentication.</p>

<blockquote>
  <p><strong>NOTE:</strong> The React code is ported from <a href="https://github.com/blackstc/intro-react-redux-omdb">intro-react-redux-omdb</a> and <a href="https://github.com/etmoore/communikey">communikey</a> written by <a href="https://www.linkedin.com/in/charlieblackstock/">Charlie Blackstock</a> and <a href="https://www.linkedin.com/in/etmoore1/">Evan Moore</a>, respectively - two of my former students.</p>
</blockquote>

<p>Add a <em>Dockerfile</em> to “services/web”:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM node:latest

# set working directory
RUN mkdir /usr/src/app
WORKDIR /usr/src/app

# add `/usr/src/app/node_modules/.bin` to $PATH
ENV PATH /usr/src/app/node_modules/.bin:$PATH

# install and cache app dependencies
ADD package.json /usr/src/app/package.json
RUN npm install
RUN npm install react-scripts@0.9.5 -g

# start app
CMD ["npm", "start"]
</code></pre></div></div>

<p>As of 05/10/2017 the <a href="http://www.omdbapi.com/">OMDb API</a> is private, so you have to donate at least $1 to gain access. Once you have an API Key, update the <code class="highlighter-rouge">API_URL</code> in <em>services/web/src/App.jsx</em>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">API_URL</span> <span class="o">=</span> <span class="s1">'http://www.omdbapi.com/?apikey=addyourkey&amp;s='</span>
</code></pre></div></div>

<p>Then update the <em>docker-compose.yml</em> file like so:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>web-service:
  container_name: web-service
  build: ./services/web/
  volumes:
    - './services/web:/usr/src/app'
    - '/usr/src/app/node_modules'
  ports:
    - '3007:3006' # expose ports - HOST:CONTAINER
  environment:
    - NODE_ENV=${NODE_ENV}
  depends_on:
    users-service:
      condition: service_started
  links:
    - users-service
</code></pre></div></div>

<blockquote>
  <p><strong>NOTE:</strong> To prevent the volume - <code class="highlighter-rouge">/usr/src/app</code> - from overriding the <em>package.json</em>, we used a data volume - <code class="highlighter-rouge">/usr/src/app/node_modules</code>. This may or may not be necessary, depending on the order in which you set up your image and containers. Check out <a href="http://dchua.com/2016/02/07/getting-npm-packages-to-be-installed-with-docker-compose/">Getting npm packages to be installed with docker-compose</a> for more.</p>
</blockquote>

<p>Build the image and fire up the container:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose up <span class="nt">--build</span> <span class="nt">-d</span> web-service
</code></pre></div></div>

<blockquote>
  <p><strong>NOTE:</strong> To avoid dealing with too much configuration (babel and webpack), the React app uses <a href="https://github.com/facebookincubator/create-react-app">Create React App</a>.</p>
</blockquote>

<p>Open your browser and navigate to <a href="http://localhost:3007">http://localhost:3007</a>. You should see the login page:</p>

<div style="text-align:center;">
  <img src="/assets/img/blog/microservice-movies-login.png" style="max-width: 100%; border:0; box-shadow: none;" alt="login page" />
</div>

<p>Log in with -</p>

<ul>
  <li>username: <code class="highlighter-rouge">foo</code></li>
  <li>password: <code class="highlighter-rouge">bar</code></li>
</ul>

<p>Once logged in you should see:</p>

<div style="text-align:center;">
  <img src="/assets/img/blog/microservice-movies-search.png" style="max-width: 100%; border:0; box-shadow: none;" alt="search page" />
</div>

<p>Within <em>services/web/src/App.jsx</em>, let’s take a quick look at the AJAX request in the <code class="highlighter-rouge">loginUser()</code> method:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">loginUser</span> <span class="p">(</span><span class="nx">userData</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/*
    why? http://localhost:3000/users/login
    why not? http://users-service:3000/users/login
   */</span>
  <span class="k">return</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'http://localhost:3000/users/login'</span><span class="p">,</span> <span class="nx">userData</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">'authToken'</span><span class="p">,</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">token</span><span class="p">)</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">'user'</span><span class="p">,</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">user</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="na">isAuthenticated</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">createFlashMessage</span><span class="p">(</span><span class="s1">'You successfully logged in! Welcome!'</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">getMovies</span><span class="p">()</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">callback</span><span class="p">(</span><span class="s1">'Something went wrong'</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Why do we use <code class="highlighter-rouge">localhost</code> rather than the name of the container, <code class="highlighter-rouge">users-service</code>? This request is originating outside the container, on the host. Keep in mind, that if, this request was originating inside the container, we would need to use the container name rather than <code class="highlighter-rouge">localhost</code>, since <code class="highlighter-rouge">localhost</code> would refer back to the container itself in that situation.</p>

<p>Make sure you can log out and register as well.</p>

<p>Next, let’s spin up the movies service so that end users can save movies to a collection…</p>

<h2 id="movies-service">Movies Service</h2>

<p>Set up for the movies service is nearly the same as the users service. Try this on your own to check your understanding:</p>

<ol>
  <li>Database
    <ul>
      <li>add a <em>Dockerfile</em></li>
      <li>update the <em>docker-compose.yml</em></li>
      <li>spin up the container</li>
      <li>test</li>
    </ul>
  </li>
  <li>API
    <ul>
      <li>add a <em>Dockerfile</em></li>
      <li>update the <em>docker-compose.yml</em> (make sure to link the service with the database and the users service and update the exposed ports - <code class="highlighter-rouge">3001</code> for the api, <code class="highlighter-rouge">5434</code> for the db)</li>
      <li>spin up the container</li>
      <li>apply migrations and seeds</li>
      <li>test</li>
    </ul>
  </li>
</ol>

<blockquote>
  <p><strong>NOTE:</strong> Need help? Grab the code from the <a href="https://github.com/mjhea0/microservice-movies/releases/tag/v2">v2</a> tag of the <a href="https://github.com/mjhea0/microservice-movies">microservice-movies</a> repo.</p>
</blockquote>

<p>The movies database image should take much less time to build than the users database. Why?</p>

<p>With the containers up, let’s test out the endpoints…</p>

<table>
  <thead>
    <tr>
      <th>Endpoint</th>
      <th>HTTP Method</th>
      <th>CRUD Method</th>
      <th>Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/movies/ping</td>
      <td>GET</td>
      <td>READ</td>
      <td><code class="highlighter-rouge">pong</code></td>
    </tr>
    <tr>
      <td>/movies/user</td>
      <td>GET</td>
      <td>READ</td>
      <td>get all movies by user</td>
    </tr>
    <tr>
      <td>/movies</td>
      <td>POST</td>
      <td>CREATE</td>
      <td>add a single movie</td>
    </tr>
  </tbody>
</table>

<p>Start with opening the browser to <a href="http://localhost:3001/movies/ping">http://localhost:3001/movies/ping</a>. You should see <code class="highlighter-rouge">pong</code>! Try <a href="http://localhost:3001/movies/user">http://localhost:3001/movies/user</a>:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please log in"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Since you need to be authenticated to access the other routes, let’s test them out by running the integration tests:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose run movies-service npm <span class="nb">test</span>
</code></pre></div></div>

<p>You should see:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>routes : index
  GET /does/not/exist
    ✓ should throw an error

Movies API Routes
  GET /movies/ping
    ✓ should <span class="k">return</span> <span class="s2">"pong"</span>
  GET /movies/user
    ✓ should <span class="k">return </span>saved movies
  POST /movies
    ✓ should create a new movie


4 passing <span class="o">(</span>818ms<span class="o">)</span>
</code></pre></div></div>

<p>Check the test specs for more info.</p>

<h2 id="web-service---part-2">Web Service - part 2</h2>

<p>Turn to the <em>docker-compose.yml</em> file. Update the <code class="highlighter-rouge">links</code> and <code class="highlighter-rouge">depends_on</code> keys for the <code class="highlighter-rouge">web-service</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>depends_on:
  users-service:
    condition: service_started
  movies-service:
    condition: service_started
links:
  - users-service
  - movies-service
</code></pre></div></div>

<p>Why?</p>

<p>Next, update the container:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose up <span class="nt">-d</span> web-service
</code></pre></div></div>

<p>Let’s test this out in the browser! Open <a href="http://localhost:3007/">http://localhost:3007/</a>. Register a new user and then add some movies to the collection.</p>

<p>Be sure to view the collection as well:</p>

<div style="text-align:center;">
  <img src="/assets/img/blog/microservice-movies-collection.png" style="max-width: 100%; border:0; box-shadow: none;" alt="collection page" />
</div>

<p>Open <em>services/movies/src/routes/_helpers.js</em> and take note of the <code class="highlighter-rouge">ensureAuthenticated()</code> method:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">ensureAuthenticated</span> <span class="o">=</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">headers</span> <span class="o">&amp;&amp;</span> <span class="nx">req</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">authorization</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span> <span class="na">status</span><span class="p">:</span> <span class="s1">'Please log in'</span> <span class="p">});</span>
  <span class="p">}</span>
  <span class="kd">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
    <span class="na">uri</span><span class="p">:</span> <span class="s1">'http://users-service:3000/users/user'</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
      <span class="na">Authorization</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">req</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">authorization</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)[</span><span class="mi">1</span><span class="p">]}</span><span class="s2">`</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">req</span><span class="p">.</span><span class="nx">user</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">user</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">next</span><span class="p">();</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">next</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>

<p>Why does the uri point to <code class="highlighter-rouge">users-service</code> and not <code class="highlighter-rouge">localhost</code>?</p>

<h2 id="workflow">Workflow</h2>

<p>Start by checking out the <em>Workflow</em> section from <a href="http://mherman.org/blog/2017/04/18/developing-and-testing-microservices-with-docker/">Developing and Testing Microservices With Docker</a>. Experiment with live reloading on a code change and debugging a running container with <code class="highlighter-rouge">console.log</code>.</p>

<p>Add a header to the collection page:</p>

<div style="text-align:center;">
  <img src="/assets/img/blog/microservice-movies-collection-updated.png" style="max-width: 100%; border:0; box-shadow: none;" alt="collection page with header" />
</div>

<p>Run the logs - <code class="highlighter-rouge">docker-compose logs -f web-service</code> - and then make a change to one of the components that breaks compilation:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>web-service       | Compiling...
web-service       | Failed to compile.
web-service       |
web-service       | Error <span class="k">in</span> ./src/components/SavedMovies.jsx
web-service       |
web-service       | /usr/src/app/src/components/SavedMovies.jsx
web-service       |   10:13  error  <span class="s1">'Link'</span> is not defined  react/jsx-no-undef
web-service       |
web-service       | ✖ 1 problem <span class="o">(</span>1 error, 0 warnings<span class="o">)</span>
web-service       |
web-service       |
</code></pre></div></div>

<p>Correct the error:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>web-service       |
web-service       | Compiling...
web-service       | Compiled successfully!
</code></pre></div></div>

<p>Continue to experiment with adding and updating the React app until you feel comfortable working with it inside the container.</p>

<h2 id="test-setup">Test Setup</h2>

<p>Thus far we’ve only tested each individual microservice with unit and integration tests. Let’s turn our attention to functional, end-to-end tests to test the entire system. For this, we’ll use <a href="https://devexpress.github.io/testcafe/">TestCafe</a>.</p>

<blockquote>
  <p><strong>NOTE:</strong> Don’t want to use TestCafe? Check out the <a href="https://github.com/mjhea0/node-docker-api/tree/master/tests">code</a> for using Mocha, Chai, Request, and Cheerio (all within a container) for testing.</p>
</blockquote>

<p>Let’s be lazy and install TestCafe globally:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm install testcafe@0.15.0 <span class="nt">-g</span>
</code></pre></div></div>

<p>Then run the tests:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>testcafe firefox tests/<span class="k">**</span>/<span class="k">*</span>.js
</code></pre></div></div>

<p>You should see:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>testcafe firefox tests/<span class="k">**</span>/<span class="k">*</span>.js
 Running tests <span class="k">in</span>:
 - Firefox 53.0.0 / Mac OS X 10.11.0

 /login
 ✓ users should be able to log <span class="k">in </span>and out


 1 passed <span class="o">(</span>3s<span class="o">)</span>
</code></pre></div></div>

<blockquote>
  <p><strong>NOTE:</strong> Interested in running the tests from within a container? Check out the <a href="https://devexpress.github.io/testcafe/documentation/using-testcafe/installing-testcafe.html#using-testcafe-docker-image">official TestCafe docs</a> for more info on using TestCafe with Docker.</p>
</blockquote>

<p>To simplify the test workflow, add a <em>test.sh</em> file to the project root:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="nv">fails</span><span class="o">=</span><span class="s1">''</span>

inspect<span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">[</span> <span class="nv">$1</span> <span class="nt">-ne</span> 0 <span class="o">]</span> <span class="p">;</span> <span class="k">then
    </span><span class="nv">fails</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">fails</span><span class="k">}</span><span class="s2"> </span><span class="nv">$2</span><span class="s2">"</span>
  <span class="k">fi</span>
<span class="o">}</span>

docker-compose run users-service npm <span class="nb">test
</span>inspect <span class="nv">$?</span> users-service

docker-compose run movies-service npm <span class="nb">test
</span>inspect <span class="nv">$?</span> movies-service

testcafe firefox tests/<span class="k">**</span>/<span class="k">*</span>.js
inspect <span class="nv">$?</span> e2e

<span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="k">${</span><span class="nv">fails</span><span class="k">}</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span>
  <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Tests failed: </span><span class="k">${</span><span class="nv">fails</span><span class="k">}</span><span class="s2">"</span>
    <span class="nb">exit </span>1
  <span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"Tests passed!"</span>
    <span class="nb">exit </span>0
<span class="k">fi</span>
</code></pre></div></div>

<p>Run the tests:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>sh test.sh
</code></pre></div></div>

<h2 id="swagger-setup">Swagger Setup</h2>

<p>Add a <em>Dockerfile</em> to “services/movies/swagger”:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM node:latest

# set working directory
RUN mkdir /usr/src/app
WORKDIR /usr/src/app

# add `/usr/src/node_modules/.bin` to $PATH
ENV PATH /usr/src/app/node_modules/.bin:$PATH

# install and cache app dependencies
ADD package.json /usr/src/app/package.json
RUN npm install

# start app
CMD ["npm", "start"]
</code></pre></div></div>

<p>Update <em>docker-compose.yml</em>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>swagger:
  container_name: swagger
  build: ./services/movies/swagger/
  volumes:
    - './services/movies/swagger:/usr/src/app'
    - '/usr/src/app/node_modules'
  ports:
    - '3003:3001' # expose ports - HOST:CONTAINER
  environment:
    - NODE_ENV=${NODE_ENV}
  depends_on:
    users-service:
      condition: service_started
    movies-service:
      condition: service_started
  links:
    - users-service
    - movies-service
</code></pre></div></div>

<p>Fire it up:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose up <span class="nt">-d</span> <span class="nt">--build</span> swagger
</code></pre></div></div>

<p>Navigate to <a href="http://localhost:3003/docs">http://localhost:3003/docs</a> and test it out:</p>

<div style="text-align:center;">
  <img src="/assets/img/blog/microservice-movies-swagger.png" style="max-width: 100%; border:0; box-shadow: none;" alt="swagger docs" />
</div>

<p>Now you just need to incorporate support for JWT-based auth and add the remaining endpoints!</p>

<h2 id="next-steps">Next Steps</h2>

<p>What’s next?</p>

<ol>
  <li><em>React App</em> - The React app could use some love. Add styles. Fix bugs. Update the flash messages so that only one is displayed at a time. Write tests. Build new features. Add Redux. The sky’s the limit. Contact me if you’d like to pair!</li>
  <li><em>Swagger</em> - Add JWT-based auth and add additional endpoints from the movies service.</li>
  <li><em>Dockerfiles</em> - Read <a href="https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/">Best practices for writing Dockerfiles</a>, by the Docker team, and refactor as necessary.</li>
  <li><em>Production</em> - Want to deploy on AWS? Check out the <a href="http://mherman.org/blog/2017/09/18/on-demand-test-environments-with-docker-and-aws-ecs">On-Demand Environments With Docker and AWS ECS</a> blog post.</li>
</ol>

<p>Grab the final code from the <a href="https://github.com/mjhea0/microservice-movies/releases/tag/v2">v2</a> tag of the <a href="https://github.com/mjhea0/microservice-movies">microservice-movies</a> repo. Please add questions and/or comments below. There’s slides too! Check them out <a href="http://mherman.org/microservice-movies">here</a>, if interested.</p>

  </div>

  <!-- addthis -->
  
    <div class="sharing">
  <br>
  <!-- AddThis Button BEGIN -->
  <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
    <a class="addthis_button_preferred_1"></a>
    <a class="addthis_button_preferred_2"></a>
    <a class="addthis_button_preferred_3"></a>
    <a class="addthis_button_preferred_4"></a>
    <a class="addthis_button_compact"></a>
    <a class="addthis_counter addthis_bubble_style"></a>
  </div>
  <script type="text/javascript">var addthis_config = {"data_track_addressbar":false};</script>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50e5f1cc35ad077d"></script>
  <!-- AddThis Button END -->
  <br>
</div>

  

  <!-- disqus -->
  
    <div id="disqus_thread"></div>

<script>
  var disqus_config = function () {
    this.page.url = 'https://mherman.org/blog/developing-microservices-node-react-docker/';
    this.page.identifier = 'https://mherman.org/blog/developing-microservices-node-react-docker/';
  };

  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//' + 'michaelherman' + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  


</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>
      




<div>
  <hr>
  <p>
    <span>Copyright &copy; 2019 - Michael Herman</span>
    <br>
    <small>Questions? michael at mherman dot org</small><br>
    <small><a href="#">Back to top</a></small>
    <br>
    <span>
      <a href="https://github.com/mjhea0"><i class="fa fa-github-square" style="font-size:2em" aria-hidden="true"></i></a>
      <a href="https://twitter.com/mikeherman"><i class="fa fa-twitter-square" style="font-size:2em" aria-hidden="true"></i></a>
      <a href="https://www.linkedin.com/in/mjhea0/"><i class="fa fa-linkedin-square" style="font-size:2em" aria-hidden="true"></i></a>
      <a href="https://www.youtube.com/hermanmu"><i class="fa fa-youtube-square" style="font-size:2em" aria-hidden="true"></i></a>
    </span>
  </p>
</div>

    </p>

  </div>

</footer>


  </body>

  <script type="text/javascript" src="/assets/hello.js"></script>
</html>
