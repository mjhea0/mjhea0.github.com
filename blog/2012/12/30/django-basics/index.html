
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Django Basics - Installing Django and Setting Up a Project and App - Michael Herman</title>
  <meta name="author" content="Michael Herman">

  
  <meta name="description" content="This brief tutorial shows the basics of installing and setting up a simple app in Django that is used to submit and retrieve information about books &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mherman.org/blog/2012/12/30/django-basics">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Michael Herman" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
<!--- MathJax Configuration -->
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-37074204-1', 'auto');
    ga('send', 'pageview');

  </script>



</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Michael Herman</a></h1>
  
    <h2>Software Developer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscribe" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewbox="0 0 100 100"><path class="social" d="M 13.310204,73.332654 C 5.967347,73.332654 0,79.322448 0,86.621428 c 0,7.338776 5.967347,13.262246 13.310204,13.262246 7.370408,0 13.328572,-5.92245 13.328572,-13.262246 0,-7.29898 -5.958164,-13.288774 -13.328572,-13.288774 z M 0.01530612,33.978572 V 53.143878 C 12.493878,53.143878 24.229592,58.02347 33.068368,66.865306 41.894898,75.685714 46.767346,87.47449 46.767346,100 h 19.25 C 66.017346,63.592858 36.4,33.979592 0.01530612,33.978572 l 0,0 z M 0.03877552,0 V 19.17449 C 44.54796,19.17551 80.77551,55.437756 80.77551,100 H 100 C 100,44.87653 55.15102,0 0.03877552,0 z"></path></svg></a></li>
  
</ul>
  
  
  
  
  
  
  
  
  
  
    
      <form action="http://google.com/search" method="get">
        <fieldset role="search">
          <input type="hidden" name="sitesearch" value="mherman.org" />
    
          <input class="search" type="text" name="q" results="0" placeholder="Search"/>
        </fieldset>
      </form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Django Basics - Installing Django and Setting Up a Project and App</h1>
      
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-12-30T09:48:00-07:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>9:48 am</span></time>
        
        
      </p>
    
  </header>


<div class="entry-content"><p>This brief tutorial shows the basics of installing and setting up a simple app in Django that is used to submit and retrieve information about books you&rsquo;ve read:</p>

<ul>
<li>Part 1 - Installing and Setting up Django</li>
<li>Part 2 - Creating the Database Model</li>
<li>Part 3 - Django API vs Admin site</li>
<li>Part 4 - Django Templates and Views</li>
</ul>


<p>Each part includes an accompanying video. You can download the source via Github - which includes all four parts. I will be delivering this tutorial from a Windows-perspective, but the Mac OS X perspective is pretty much the same.</p>

<p>This tutorial follows the first few sections of the official Django tutorial.</p>

<p>Videos - <a href="http://www.youtube.com/watch?v=ZgfGdRYVXjw">Part 1</a>, <a href="http://www.youtube.com/watch?v=aHLQpo3UHek">Part 2</a>, <a href="http://www.youtube.com/watch?v=SEV9Adp-AFQ">Part 3</a>, <a href="http://www.youtube.com/watch?v=_cPM7CgG-Fc">Part 4</a></p>

<p>GitHub - <a href="https://github.com/mjhea0/django-tutorial">https://github.com/mjhea0/django-tutorial</a></p>

<p><strong>Django?</strong></p>

<p>Developed in 1995 Django is one of, if not the most, popular Python web frameworks. It promotes rapid development via the model-view-controller architecture. You can learn more about it <a href="https://www.djangoproject.com/">here</a>.</p>

<p><strong>Prerequisites:</strong></p>

<ul>
<li>You have Python 2.7 installed.</li>
<li>You have PIP installed. To install, you need to first install setup tools. Click <a href="http://www.youtube.com/watch?v=ssQAFIQ4oBU">here</a> for a brief tutorial on how to do that. Then you can just run the command <code>easy_install pip</code> from the command prompt to install PIP.</li>
</ul>


<hr />

<p><em>Alright let&rsquo;s get started &hellip;</em></p>

<h2><strong>Part 1 - Installing Django</strong></h2>

<h3>Open the command prompt with admin privileges and run the command-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">pip</span> <span class="n">install</span> <span class="n">Django</span>
</span></code></pre></td></tr></table></div></figure>


<p>   -to install Django into your site-packages directory.</p>

<h3>To setup, you need to create a new project. Within command prompt, navigate to the directory you wish to create the new project, then run the command -</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>python C:<span class="se">\P</span>ython27<span class="se">\L</span>ib<span class="se">\s</span>ite-packages<span class="se">\d</span>jango<span class="se">\b</span>in<span class="se">\d</span>jango-admin.py startproject testproject
</span></code></pre></td></tr></table></div></figure>


<p>   Your path to <em>django-admin.py</em> may be different, so make sure to tailor it if necessary. Also, <em>testproject</em> is the name of the created project. Feel free to name this whatever you like.</p>

<h3>Next you need to make sure everything was setup correctly. To do that, you can launch the Django server. First, navigate to your newly created directory (<em>testproject</em>, in my case), and then run the command-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>python manage.py runserver
</span></code></pre></td></tr></table></div></figure>


<p>   Open up a new browser window and navigate to <a href="http://localhost:8000/.">http://localhost:8000/.</a> If setup correctly, you will see the Welcome to Django screen.</p>

<h3>Let&rsquo;s setup the database. Open up <em>settings.py</em> in the <em>testproject</em> directory with a text editor. (I use Notepad++.) Append <em>sqlite3</em> to the end of the Engine key and then add the path to the name key. You can name the database whatever you’d like because if the database doesn’t exist, Django will create it for you in the next step. The results should look like something similar to this (depending upon your path)-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="s">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s">&#39;django.db.backends.sqlite3&#39;</span><span class="p">,</span>
</span><span class='line'><span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="s">&#39;C:/Python27/django/testproject/test.db&#39;</span><span class="p">,</span>
</span></code></pre></td></tr></table></div></figure>


<p>   (Yes, use forward slashes.)</p>

<h3>Finally, you need to create and then sync the database by navigating to the directory where <em>manage.py</em> is located (should be the project&rsquo;s main directory) and then running the following command-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>python manage.py syncdb
</span></code></pre></td></tr></table></div></figure>


<p>   Create a superuser. I used <em>admin</em> for both my username and password.</p>

<p>Alright, the setup is complete. You&rsquo;re now ready to start creating an app.</p>

<h2><strong>Part 2 - Creating the Database Model</strong></h2>

<h3>Start by creating an app. Within command prompt, navigate to the <em>testproject</em> directory and then type the command-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>python manage.py startapp books
</span></code></pre></td></tr></table></div></figure>


<p>   CD into the directory. You should see a <em>models.py</em> file. This file is used to setup the entities and attributes for your database.</p>

<h3>Go ahead and open <em>models.py</em> in Notepad++ and add in the following code:</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">class</span> <span class="nc">Books</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</span><span class='line'>  <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
</span><span class='line'>  <span class="n">author</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span><span class='line'>  <span class="n">read</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>   This code should be relatively clear. This class defines the database fields- title, author, and read. The data in the read field will either be &ldquo;yes&rdquo; or &ldquo;no&rdquo; depending on whether you&rsquo;ve read the book or not.</p>

<p>   Since there is only one table, we don&rsquo;t need to establish a foreign key. The primary key, a unique id, will be automatically generated for us by Django&rsquo;s magic.</p>

<p>   Save the file.</p>

<h3>Now open up the <em>settings.py</em> file, scroll down to <em>Installed Apps</em> and add the app name, <em>books</em>, to the installed apps so that Django knows to include it. Your installed apps section should look like this-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
</span><span class='line'>  <span class="s">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&#39;django.contrib.sites&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&#39;books&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="c"># Uncomment the next line to enable the admin:</span>
</span><span class='line'>    <span class="c"># &#39;django.contrib.admin&#39;,</span>
</span><span class='line'>    <span class="c"># Uncomment the next line to enable admin documentation:</span>
</span><span class='line'>    <span class="c"># &#39;django.contrib.admindocs&#39;,</span>
</span><span class='line'><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>   Save the file.</p>

<h3>CD back to the main project directory and run the command-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>python manage.py sql books
</span></code></pre></td></tr></table></div></figure>


<p>   -to display the actual SQL statements for creating the table. Did you notice the primary key?</p>

<p>   Your output should look like this-</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">BEGIN</span><span class="p">;</span>
</span><span class='line'><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="s">&quot;books_books&quot;</span> <span class="p">(</span>
</span><span class='line'>    <span class="s">&quot;id&quot;</span> <span class="n">integer</span> <span class="n">NOT</span> <span class="n">NULL</span> <span class="n">PRIMARY</span> <span class="n">KEY</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&quot;title&quot;</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&quot;author&quot;</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&quot;read&quot;</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="n">NOT</span> <span class="n">NULL</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'><span class="p">;</span>
</span><span class='line'><span class="n">COMMIT</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>   You can also use the following command to check to see if there are any errors in your models-</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>python manage.py validate
</span></code></pre></td></tr></table></div></figure>


<h3>Finally, you need to run the following command to execute the SQL statements:</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>python manage.py syncdb
</span></code></pre></td></tr></table></div></figure>


<p>Next, I&rsquo;ll show you how to access the Django API to add data to the database.</p>

<h2><strong>Part 3 - Django API vs Admin site</strong></h2>

<h3>First open up command prompt, navigate to your project directory, and then run the command-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>python manage.py shell
</span></code></pre></td></tr></table></div></figure>


<p>   This opens an interactive environment for us to use.</p>

<h3>Next go ahead and import your app with the following command-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">books.models</span> <span class="kn">import</span> <span class="n">Books</span>
</span></code></pre></td></tr></table></div></figure>


<h3>There&rsquo;s a number of different things you can do within this environment, but let&rsquo;s stick with adding data to our database. To add a row, run this command-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">b</span> <span class="o">=</span> <span class="n">Books</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">&quot;To Kill a Mockingbird&quot;</span><span class="p">,</span> <span class="n">author</span><span class="o">=</span><span class="s">&quot;Harper Lee&quot;</span><span class="p">,</span> <span class="n">read</span><span class="o">=</span><span class="s">&quot;yes&quot;</span><span class="p">)</span>
</span><span class='line'><span class="n">b</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span class='line'><span class="n">b</span> <span class="o">=</span> <span class="n">Books</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">&quot;Brave New World&quot;</span><span class="p">,</span> <span class="n">author</span><span class="o">=</span><span class="s">&quot;Aldous Huxley&quot;</span><span class="p">,</span> <span class="n">read</span><span class="o">=</span><span class="s">&quot;yes&quot;</span><span class="p">)</span>
</span><span class='line'><span class="n">b</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span class='line'><span class="n">b</span> <span class="o">=</span> <span class="n">Books</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">&quot;War and Peace&quot;</span><span class="p">,</span> <span class="n">author</span><span class="o">=</span><span class="s">&quot;Leo Tolstoy&quot;</span><span class="p">,</span> <span class="n">read</span><span class="o">=</span><span class="s">&quot;no&quot;</span><span class="p">)</span>
</span><span class='line'><span class="n">b</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>Go ahead and add as many books as you&rsquo;d like for practice.</p>

<p>Once complete, you can view the data in your database in a number of ways. I like to just use SQLite, which can be downloaded <a href="http://sourceforge.net/projects/sqlitebrowser/">here</a>. So, go ahead and open the text.db file which is located within your project&rsquo;s main directory, switch to the <em>Browse Data</em> tab, and then under the Table dropdown choose <em>books_books</em>. You should see all the books you added.</p>

<p>You can exit the Django interactive environment using the <code>exit()</code> command.</p>

<p>Okay, let&rsquo;s look at an even easier means of adding data using <strong>Django&rsquo;s admin site</strong>.</p>

<h3>Open the <em>settings.py</em> file, scroll down to <em>Installed Apps</em> and uncomment the line <em>&lsquo;django.contrib.admin&rsquo;,</em>. Then save the file.</h3>

<h3>Update the database by running the command-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>python manage.py syncdb
</span></code></pre></td></tr></table></div></figure>


<h3>Next open the <em>urls.py</em> file within the <em>books</em> directory. You need to uncomment these three lines-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
</span><span class='line'><span class="n">admin</span><span class="o">.</span><span class="n">autodiscover</span><span class="p">()</span>
</span><span class='line'><span class="n">url</span><span class="p">(</span><span class="s">r&#39;^admin/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">)),</span>
</span></code></pre></td></tr></table></div></figure>


<p>   Save the file and exit.</p>

<h3>Now create a new file in your <em>books</em> directory called <em>admin.py</em> and add the following code to the file-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">books.models</span> <span class="kn">import</span> <span class="n">Books</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
</span><span class='line'><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Books</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Next, open up your <em>models.py</em> file and add these two lines of code-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class='line'>  <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">+</span> <span class="s">&quot; / &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">author</span> <span class="o">+</span> <span class="s">&quot; / &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">read</span>
</span></code></pre></td></tr></table></div></figure>


<p>   Essentially, <em>self</em> refers to the current object.</p>

<h3>Now start the development server - <code>python manage.py runserver</code>, point your browser to <a href="http://localhost:8000/admin,">http://localhost:8000/admin,</a> and enter your login credentials. You should see the <em>Books</em> app. And if you click the app, you should now see the data we added earlier.</h3>

<p>   Go ahead and add a few more books in. Try deleting a row as well. See how much easier that is in the Admin console?</p>

<p>So we&rsquo;re done with the Admin console. Hit CTRL+BREAK to exit. I&rsquo;m also done showing you how to create and modify your app&rsquo;s model(s). Next, we&rsquo;ll look at how to modify what the user sees (views and templates).</p>

<h2><strong>Part 4 - Django Templates and Views</strong></h2>

<p>Again, in this final tutorial I&rsquo;ll go over how to create the public interface.</p>

<h3>The first thing we need to do is setup the URL structure. Open up <em>urls.py</em> and then add this code to the <em>urlpatterns</em>-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">url</span><span class="p">(</span><span class="s">r&#39;^books/$&#39;</span><span class="p">,</span> <span class="s">&#39;books.views.index&#39;</span><span class="p">),</span>
</span></code></pre></td></tr></table></div></figure>


<p>   This is essentially a tuple that points a user to a Django page based on the URL that user visits. In this case the regular expression dictates that when the user visits any page with the ending /books they will be see the books.views.index page. This is a bit complicated, so be sure to visit the Django <a href="https://docs.djangoproject.com/en/1.4/intro/tutorial03/">tutorial</a> for more into.</p>

<h3>Now to ensure that this is setup correctly run the server and then point your browser to <a href="http://localhost:8000/books.">http://localhost:8000/books.</a></h3>

<p>   As long as you get the error, <em>ViewDoesNotExist at /books</em>, then the url is setup correctly.</p>

<p>   We need to actually write the view now.</p>

<h3>Stop the server (CRTL+BREAK) and then within the <em>books</em> directory open <em>views.py</em> in Notepad++ and write the following code to test out your views-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
</span><span class='line'><span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s">&quot;Hello. This is a test.&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>   Save the file. Run the server. And refresh the page. You should no longer see an error. Instead, you should just see a page with the words <em>Hello. This is a test.</em> in the top corner.</p>

<h3>Okay, now let&rsquo;s display something a bit more meaningful - like a listing of all the books in the database. To do that, you need your <em>views.py</em> file to look like this-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">books.models</span> <span class="kn">import</span> <span class="n">Books</span>
</span><span class='line'><span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class='line'>    <span class="n">books_list</span> <span class="o">=</span> <span class="n">Books</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">books_list</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>-and then just hit refresh on your browser. (Remember: we didn&rsquo;t stop the server).</p>

<p>   You should see all of the books in one long line. It looks bad, but it works.</p>

<p>Next, we&rsquo;re going to work with <strong>templates</strong>, which will allow us to easily create a much more readable output.</p>

<h3>Start by making a new directory in the django directory, outside of the project, called <em>templates</em>. Within that directory, make a directory called <em>books</em>.</h3>

<h3>Next open up <em>settings.py</em>, scroll down to <em>TEMPLATE_DIRS</em> and add the template directory-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="s">&quot;C:/Python27/django/templates&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>   Yes, those are forward slashes.</p>

<h3>Now create a new file in your <em>temples\books</em> directory. Save it as index.html and add the following code-</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;h1&gt;</span>My Fab Book Collection<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>{% if books_list %}
</span><span class='line'><span class="nt">&lt;ul&gt;</span>
</span><span class='line'>{% for b in books_list %}
</span><span class='line'>    <span class="nt">&lt;li&gt;</span>{{b.title}} | {{b.author}} | {{b.read}}<span class="nt">&lt;/li&gt;</span>
</span><span class='line'>{% endfor %}
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span><span class='line'>{% endif %}
</span></code></pre></td></tr></table></div></figure>


<h3>Open <em>views.py</em> again and make it looks like this-</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">books.models</span> <span class="kn">import</span> <span class="n">Books</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">Context</span><span class="p">,</span> <span class="n">loader</span>
</span><span class='line'><span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span class='line'>  <span class="n">books_list</span> <span class="o">=</span> <span class="n">Books</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</span><span class='line'>  <span class="n">t</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s">&#39;books/index.html&#39;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">({</span><span class="s">&#39;books_list&#39;</span><span class="p">:</span> <span class="n">books_list</span><span class="p">,})</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Basically, the loader is the path to the template we created, which then gets assigned to the Python object via the Context dictionary.</p>

<h3>Save the file. Run the server. Refresh the <a href="http://localhost:8000/books">http://localhost:8000/books</a> page. There&rsquo;s the books. Looks a little better, too.</h3>

<p>I know I said that I&rsquo;d show to make it so a non-administrator can add data to the database - but I just realized that this would be another lesson in itself. So, I&rsquo;m going to stop here. Feel free to view the Django Tutorial to learn how to add that functionality to your application.</p>

<p>In fact, the whole point to these tutorials is for you to get started with the Django tutorial. I bounced around a bit but I hope that you can now go through the tutorial a bit easier now that you have a starting off point.</p>

<p>Thanks for watching. See you next time.</p>
</div>


  <footer>
    <p class="meta">
      
  



  <span class="byline author vcard">Authored by <span class="fn">
  
    Michael Herman
  
  </span></span>


      




<time class='entry-date' datetime='2012-12-30T09:48:00-07:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>9:48 am</span></time>
      
      

<span class="categories">
  
    <a class='category' href='/blog/categories/python/'>python</a>
  
</span>


    </p>
    
      <div class="sharing">
<!--   
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://mherman.org/blog/2012/12/30/django-basics/" data-via="" data-counturl="http://mherman.org/blog/2012/12/30/django-basics/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
   -->
  <br>
  <!-- AddThis Button BEGIN -->
  <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
  <a class="addthis_button_preferred_1"></a>
  <a class="addthis_button_preferred_2"></a>
  <a class="addthis_button_preferred_3"></a>
  <a class="addthis_button_preferred_4"></a>
  <a class="addthis_button_compact"></a>
  <a class="addthis_counter addthis_bubble_style"></a>
  </div>
  <script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50e5f1cc35ad077d"></script>
  <!-- AddThis Button END -->
  <br>
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/12/12/excel-tips-how-to-cut-down-on-calculations-using-sumif-and-sumifs/" title="Previous Post: Excel Tips: How to Cut Down on Calculations Using SUMIF and SUMIFS">&laquo; Excel Tips: How to Cut Down on Calculations Using SUMIF and SUMIFS</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/01/09/understand-your-support-system-better-with-sentiment-analysis/" title="Next Post: Understand your Support System Better with Sentiment Analysis">Understand your Support System Better with Sentiment Analysis &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>


</div>

    </div>
  </div>
  <footer role="contentinfo"><div>
  <span>Copyright &copy; 2016 - Michael Herman</span><br>
  <a href="https://github.com/mjhea0"><i class="fa fa-github-square" style="font-size:2em" aria-hidden="true"></i></a>
  <a href="https://twitter.com/mikeherman"><i class="fa fa-twitter-square" style="font-size:2em" aria-hidden="true"></i></a>
  <a href="http://www.linkedin.com/pub/michael-herman/3b/a94/4"><i class="fa fa-linkedin-square" style="font-size:2em" aria-hidden="true"></i></a>
  <a href="http://www.youtube.com/hermanmu"><i class="fa fa-youtube-square" style="font-size:2em" aria-hidden="true"></i></a>
</div>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'michaelherman';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://mherman.org/blog/2012/12/30/django-basics/';
        var disqus_url = 'http://mherman.org/blog/2012/12/30/django-basics/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
