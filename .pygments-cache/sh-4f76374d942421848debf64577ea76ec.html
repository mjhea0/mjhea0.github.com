<div class="highlight"><pre>exports.seed <span class="o">=</span> <span class="o">(</span>knex, Promise<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span>
  // Deletes ALL existing entries
  <span class="k">return</span> knex<span class="o">(</span><span class="s1">&#39;users&#39;</span><span class="o">)</span>.del<span class="o">()</span>
  .then<span class="o">(()</span> <span class="o">=</span>&gt; <span class="o">{</span>
    <span class="k">return</span> Promise.all<span class="o">([</span>
      // Inserts seed entries
      knex<span class="o">(</span><span class="s1">&#39;users&#39;</span><span class="o">)</span>.insert<span class="o">({</span>
        username: <span class="s1">&#39;michael&#39;</span>,
        email: <span class="s1">&#39;michael@mherman.org&#39;</span>
      <span class="o">})</span>,
      knex<span class="o">(</span><span class="s1">&#39;users&#39;</span><span class="o">)</span>.insert<span class="o">({</span>
        username: <span class="s1">&#39;michaeltwo&#39;</span>,
        email: <span class="s1">&#39;michael@realpython.org&#39;</span>
      <span class="o">})</span>
    <span class="o">])</span><span class="p">;</span>
  <span class="o">})</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>
</pre></div>