<div class="highlight"><pre><span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;bluebird&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// Initialization Options</span>
  <span class="nx">promiseLib</span><span class="o">:</span> <span class="nx">promise</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">pgp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;pg-promise&#39;</span><span class="p">)(</span><span class="nx">options</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">connectionString</span> <span class="o">=</span> <span class="s1">&#39;postgres://localhost:5432/puppies&#39;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">pgp</span><span class="p">(</span><span class="nx">connectionString</span><span class="p">);</span>

<span class="c1">// add query functions</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">getAllPuppies</span><span class="o">:</span> <span class="nx">getAllPuppies</span><span class="p">,</span>
  <span class="nx">getSinglePuppy</span><span class="o">:</span> <span class="nx">getSinglePuppy</span><span class="p">,</span>
  <span class="nx">createPuppy</span><span class="o">:</span> <span class="nx">createPuppy</span><span class="p">,</span>
  <span class="nx">updatePuppy</span><span class="o">:</span> <span class="nx">updatePuppy</span><span class="p">,</span>
  <span class="nx">removePuppy</span><span class="o">:</span> <span class="nx">removePuppy</span>
<span class="p">};</span>
</pre></div>