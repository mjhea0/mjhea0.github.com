<div class="highlight"><pre>SELECT
  <span class="o">(</span>SELECT count<span class="o">(</span>TYPE<span class="o">)</span>
   FROM events
   WHERE <span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;twitter share&quot;</span><span class="o">)</span> AS twitter_shares,
  <span class="o">(</span>SELECT count<span class="o">(</span>*<span class="o">)</span>
   FROM events<span class="o">)</span> AS total,
  <span class="o">(</span>SELECT count<span class="o">(</span>TYPE<span class="o">)</span>
   FROM events
   WHERE <span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;twitter share&quot;</span><span class="o">)</span>/
  <span class="o">(</span>SELECT count<span class="o">(</span>*<span class="o">)</span>
   FROM events<span class="o">)</span>*100 AS percent_of_total<span class="p">;</span>

+----------------+--------+------------------+
<span class="p">|</span> twitter_shares <span class="p">|</span> total  <span class="p">|</span> percent_of_total <span class="p">|</span>
+----------------+--------+------------------+
<span class="p">|</span>          <span class="m">14570</span> <span class="p">|</span> <span class="m">101684</span> <span class="p">|</span>          14.3287 <span class="p">|</span>
+----------------+--------+------------------+
</pre></div>