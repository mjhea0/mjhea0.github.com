<div class="highlight"><pre>Commit and push your code to GitHub to trigger a new Circle build. Once <span class="k">done</span>, ensure the images are up on ECS with the appropriate tag:

!<span class="o">[</span>aws ecr image push<span class="o">](</span>/images/blog/on-demand-environments/aws-ecr-image-push.png<span class="o">)</span>

<span class="c">### Task Definitions</span>

A <span class="o">[</span>Task Definition<span class="o">](</span>http://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definitions.html<span class="o">)</span> is used to create an application from one or more containers. It is similar to a Docker Compose file.

Steps:

1. Create Task Definition JSON files
1. Update Circle config to create and register Task Definitions

<span class="c">#### Create JSON files</span>

Although you can create Task Definitions directly from the Amazon GUI, we<span class="err">&#39;</span>ll use JSON files so they can be easily tweaked. Create a new directory called <span class="s2">&quot;tasks&quot;</span> within <span class="s2">&quot;ecs&quot;</span>, and <span class="k">then</span> add the following files:

1. *users-review_task.json*
1. *movies-review_task.json*
1. *web-review_task.json*

<span class="c">##### Users - *users-review_task.json*</span>
</pre></div>