<div class="highlight"><pre><span class="k">function</span> addService<span class="o">(</span>task<span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> new Promise<span class="o">((</span>resolve, reject<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span>
    const <span class="nv">params</span> <span class="o">=</span> <span class="o">{}</span><span class="p">;</span>
    ecs.createService<span class="o">(</span>params, <span class="o">(</span>err, data<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span>err<span class="o">)</span> <span class="o">{</span> reject<span class="o">(</span>err<span class="o">)</span><span class="p">;</span> <span class="o">}</span>
      resolve<span class="o">(</span>data<span class="o">)</span><span class="p">;</span>
    <span class="o">})</span><span class="p">;</span>
  <span class="o">})</span><span class="p">;</span>
<span class="o">}</span>
</pre></div>